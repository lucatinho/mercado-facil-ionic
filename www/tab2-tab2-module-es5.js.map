{"version":3,"sources":["src/app/components/listar-pedido-produto/listar-pedido-produto.component.html","src/app/tab2/tab2.page.html","src/app/components/listar-pedido-produto/listar-pedido-produto.component.scss","src/app/components/listar-pedido-produto/listar-pedido-produto.component.ts","src/app/tab2/tab2.module.ts","src/app/tab2/tab2.page.scss","src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header [translucent]=\\\"false\\\">\\n  <ion-toolbar color=\\\"base_header\\\">\\n    <!-- botao voltar -->\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"close()\\\">\\n        <!-- <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon> -->\\n        <ion-icon name=\\\"arrow-down-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <!-- <ion-title class=\\\"ion-text-center\\\"> -->\\n    <ion-title>\\n      Produtos\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <!-- <ion-item-group *ngFor=\\\"let item of produto; index as i\\\"> -->\\n  <!-- <ion-item *ngIf=\\\"item.idPedido == (varPedidoSelecionado)\\\"> -->\\n  <ion-item-group>\\n    <ion-item>\\n      <ion-label>\\n        <h2><th>{{ produto.mercados.nome }}</th></h2>\\n        <!-- <h3>\\n                <th>De: 12.30</th>\\n              </h3> -->\\n        <h3>\\n          Frete: {{ nomeFrete }}\\n        </h3>\\n\\n        <h3>\\n          Forma de pagamento: {{ produto.formaPagamento }}\\n        </h3>\\n        <h3 *ngIf=\\\"enderecoEnviar != false\\\" >\\n          Entrega: {{enderecoEnviar.bairro}}, {{enderecoEnviar.rua}}, Nº {{enderecoEnviar.numero}}\\n        </h3>\\n      </ion-label>\\n      <ion-badge slot=\\\"end\\\" color=\\\"tertiary\\\">{{ produto.statusPedido.nomeStatusPedido }}</ion-badge>\\n    </ion-item>\\n  </ion-item-group>\\n  <!-- fim produto -->\\n\\n  <ion-list>\\n    <ion-item-group *ngFor=\\\"let item of produto.pedidoProdutos; index as i\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h2><th>{{ item.nomeProduto }} {{ item.marcaProduto }}</th></h2>\\n          <h3>\\n            Quantidade:  {{ item.qtdProduto }}\\n          </h3>\\n          <h3>\\n            Valor unitário: {{ item.valorUni | currency:'BRL' }}\\n          </h3>\\n        </ion-label>\\n      </ion-item>\\n    </ion-item-group>\\n    <!-- fim produto -->\\n  </ion-list>\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <!-- chama modal no ts -->\\n  <ion-toolbar color=\\\"light\\\">\\n    <!-- fim icone para cima -->\\n    <ion-title>Total: {{ totalProdutos() | currency:'BRL' }}</ion-title>\\n  </ion-toolbar>\\n</ion-footer> \"","export default \"<ion-header [translucent]=\\\"false\\\">\\n  <ion-toolbar color=\\\"base_header\\\">\\n<!-- botao de refresh -->\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button  (click)=\\\"banco()\\\">\\n        <ion-icon name=\\\"refresh-circle-outline\\\" style=\\\"zoom:1.5;\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    \\n    <ion-title class=\\\"ion-text-center\\\">\\n      Historico de Pedidos\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <ion-list>\\n    <!-- inicio pedido -->\\n    <ion-item *ngFor=\\\"let item of pedidos; index as i\\\" (click)=\\\"postPedidoSelecionado(item)\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src={{item.mercados.picture}}>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>{{ item.mercados.nome}}</h2>\\n        <p>{{ item.dataPedido | date:'dd/MM/yy HH:mm'}}</p>\\n        <!-- <p>\\n          <th></th>\\n        </p> -->\\n      </ion-label>\\n\\n      <ion-buttons slot=\\\"end\\\">\\n        <ion-button>\\n          <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n\\n      \\n      <!-- <ion-badge slot=\\\"end\\\" color=\\\"warning\\\">{{ item.statusPedido.nomeStatusPedido }}</ion-badge> -->\\n    </ion-item>\\n    <!-- fim pedido -->\\n\\n  </ion-list> \\n\\n</ion-content>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbGlzdGFyLXBlZGlkby1wcm9kdXRvL2xpc3Rhci1wZWRpZG8tcHJvZHV0by5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { VarUsuarioService } from 'src/app/shared/var-usuario.service';\n\n\n@Component({\n  selector: 'app-listar-pedido-produto',\n  templateUrl: './listar-pedido-produto.component.html',\n  styleUrls: ['./listar-pedido-produto.component.scss'],\n})\nexport class ListarPedidoProdutoComponent implements OnInit {\n  produto: any;\n  bancoPedidos: any;\n  formatarProduto: any;\n  total: any;\n  nomeFrete: any = \"Retirada no estabelecimento\";\n  enderecoEnviar: any = [];\n\n  constructor(private modalCTRL: ModalController, private saveUser: VarUsuarioService) { }\n\n  ngOnInit() {\n    // this.puxarBanco();\n    this.pedidoSelecionado();\n  }\n\n  // botao de fechar a modal\n  close() {\n    this.modalCTRL.dismiss();\n  }\n\n  pedidoSelecionado() {\n    this.produto = this.saveUser.getPedidoSelecionado();\n    console.log(\"chegou :\", this.produto);\n    this.totalProdutos();\n    if (this.produto.formaEnvio == \"Entrega\") {\n      for (let index = 0; index < this.produto.cliente.endereco.length; index++) {\n        if (this.produto.endereco == this.produto.cliente.endereco[index].idEndereco) {\n          this.enderecoEnviar = this.produto.cliente.endereco[index];\n        }\n      }\n    }else{\n      this.enderecoEnviar = false;\n    }\n  }\n\n\n  totalProdutos() {\n    this.total = 0;\n    for (let index = 0; index < this.produto.pedidoProdutos.length; index++) {\n      this.total = this.total + (this.produto.pedidoProdutos[index].valorUni * this.produto.pedidoProdutos[index].qtdProduto);\n    };\n    if (this.produto.formaEnvio == \"Entrega\") {\n      this.total = this.total + this.produto.mercados.freteMercado;\n      this.nomeFrete = \"R$ \" + this.produto.mercados.freteMercado\n    }\n    return this.total;\n  };\n\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { ListarPedidoProdutoComponent } from '../components/listar-pedido-produto/listar-pedido-produto.component';\n\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page, ListarPedidoProdutoComponent],\n  entryComponents: [ListarPedidoProdutoComponent]\n})\nexport class Tab2PageModule {}\n ","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\n.iconSize {\\n  font-size: 128px;\\n}\\n\\nion-thumbnail {\\n  --border-radius:10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi9IOlxcaW9uaWNcXHRjYy9zcmNcXGFwcFxcdGFiMlxcdGFiMi5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRjs7QURDQTtFQUNFLG9CQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG4uaWNvblNpemUge1xuICBmb250LXNpemU6IDEyOHB4O1xufVxuaW9uLXRodW1ibmFpbCB7XG4gIC0tYm9yZGVyLXJhZGl1czoxMHB4O1xufSIsImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn1cblxuLmljb25TaXplIHtcbiAgZm9udC1zaXplOiAxMjhweDtcbn1cblxuaW9uLXRodW1ibmFpbCB7XG4gIC0tYm9yZGVyLXJhZGl1czoxMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ApimercadoService } from '../shared/apimercado.service';\nimport { Router } from '@angular/router';\nimport { ModalController, LoadingController } from '@ionic/angular';\nimport { ListarPedidoProdutoComponent } from '../components/listar-pedido-produto/listar-pedido-produto.component';\nimport { VarUsuarioService } from '../shared/var-usuario.service';\nimport { Storage } from '@ionic/storage';\nimport { TabsFunctionsService } from '../tabs/tabs-functions.service';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit {\n\n  pedidos: any;\n  varSessao: any;\n  recarregar: boolean = false;\n\n  constructor(\n    private apimercado: ApimercadoService,\n    private router: Router,\n    private modalCTRL: ModalController,\n    private loadingController: LoadingController,\n    private saveUser: VarUsuarioService,\n    private storage: Storage,\n    private tabsFunctions: TabsFunctionsService\n    ) { }\n\n  ngOnInit() {\n    // this.doRefresh();\n    // puxa metodo banco\n    // this.estasLogado();\n    this.banco();\n    \n  }\n\n  // doRefresh() {\n  //   console.log('Begin async operation');\n\n  //   setTimeout(() => {\n  //     console.log('Async operation has ended');\n  //     this.bancoReload();\n  //     this.doRefresh();\n  //   }, 60000);\n  // }\n\n  postPedidoSelecionado(pedidoSelecionado) {\n    console.log(\"qual foi: \", pedidoSelecionado);\n    this.saveUser.postPedidoSelecionado(pedidoSelecionado);\n    this.listarProdutos();\n  }\n\n  // cria a modal\n  async listarProdutos() {\n    const modal = await this.modalCTRL.create({\n      component: ListarPedidoProdutoComponent\n    });\n    modal.present();\n  }\n  // fim da modal\n\n  banco() {\n    // console.log(\"ver: \", this.saveUser.getInfoCliente())\n    this.storage.get(\"login\").then((val) => {\n      if (val != null) {\n        this.telaCarregamento().then(() => {\n          this.apimercado.listarPedidos(val)\n            .then((response) => {\n              this.pedidos = response;\n              this.pedidos.sort((b, a) => a.dataPedido.localeCompare(b.dataPedido));\n              console.log(\"lista de pedidos: \", this.pedidos);\n              this.bancoReload();\n              // this.saveUser.postPedidos(this.pedidos);\n              this.loadingController.dismiss();\n            })\n            .catch((response) => {\n              this.pedidos = response;\n              console.log(\"deu erro: \", this.pedidos);\n              this.bancoReload();\n              this.loadingController.dismiss();\n            });\n        });\n      }else{\n        console.log(\"nao ta logado\")\n        this.router.navigate([\"/login\"])\n      }\n    }).catch((response) => {\n      this.bancoReload();\n      console.log(\"nao esta logado storage: \", response);\n    });\n  }\n\n  bancoReload() {\n    this.tabsFunctions.serviceData\n      .subscribe(data => (this.pedidos = data));\n\n  //   // console.log(\"ver: \", this.saveUser.getInfoCliente())\n  //   this.storage.get(\"login\").then((val) => {\n  //     if (val != null) {\n  //         this.apimercado.listarPedidos(val)\n  //           .then((response) => {\n  //             this.pedidos = response;\n  //             console.log(\"lista de pedidos: \", this.pedidos);\n  //             // this.saveUser.postPedidos(this.pedidos);\n  //             this.loadingController.dismiss();\n  //           })\n  //           .catch((response) => {\n  //             this.pedidos = response;\n  //             console.log(\"deu erro: \", this.pedidos);\n  //             this.loadingController.dismiss();\n  //           });\n  //     }else{\n  //       console.log(\"nao ta logado\")\n  //       this.router.navigate([\"/login\"])\n  //     };\n  //   }).catch((response) => {\n  //     console.log(\"nao esta logado storage: \", response);\n  //   });\n  }\n\n  async telaCarregamento() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Por favor aguarde...'\n    });\n    return loading.present();\n  };\n}\n"],"sourceRoot":"webpack:///","file":"tab2-tab2-module-es5.js"}