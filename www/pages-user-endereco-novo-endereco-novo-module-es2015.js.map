{"version":3,"sources":["./src/app/pages/user/endereco-novo/endereco-novo.page.html","./src/app/pages/user/endereco-novo/endereco-novo-routing.module.ts","./src/app/pages/user/endereco-novo/endereco-novo.module.ts","./src/app/pages/user/endereco-novo/endereco-novo.page.scss","./src/app/pages/user/endereco-novo/endereco-novo.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,u5BAAw1B,eAAe,waAAwa,eAAe,wZAAwZ,eAAe,mcAAmc,eAAe,obAAob,eAAe,gT;;;;;;;;;;;;;;;;;;;ACAhkF;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAgB;KAC5B;CACF,CAAC;AAMF,IAAa,6BAA6B,GAA1C,MAAa,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACmB;AAErB;AAEkC;AAEvB;AAYxD,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;CAAG;AAAzB,sBAAsB;IAVlC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,eAAe;YACf,kEAAmB;YACnB,0DAAW;YACX,2FAA6B;SAC9B;QACD,YAAY,EAAE,CAAC,oEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;ACpBnC;AAAe,6GAA8C,uK;;;;;;;;;;;;;;;;;;;;;;;ACAX;AACO;AACa;AACe;AAC7B;AACf;AACqB;AAO9D,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAM3B,YACU,WAAwB,EACxB,UAA6B,EAC7B,iBAAoC,EACpC,SAA0B,EAC1B,SAA0B,EAC1B,MAAc,EACd,OAAgB,EAChB,YAAiC;QAPjC,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAmB;QAC7B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;QAChB,iBAAY,GAAZ,YAAY,CAAqB;QAuBpC,kBAAa,GAAG;YACrB,GAAG,EAAE;gBACH,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,wBAAwB,EAAE;gBACvD,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,yCAAyC,EAAE;aAC1E;YACD,MAAM,EAAE;gBACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,2BAA2B,EAAE;gBAC1D;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,oCAAoC;iBAC9C;aACF;YACD,MAAM,EAAE;gBACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,2BAA2B,EAAE;gBAC1D;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,mCAAmC;iBAC7C;aACF;YACD,MAAM,EAAE;gBACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,2BAA2B,EAAE;gBAC1D;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,mCAAmC;iBAC7C;aACF;YACD,GAAG,EAAE;gBACH,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,wBAAwB,EAAE;gBACvD;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,iCAAiC;iBAC3C;aACF;SACF,CAAC;QAEF,iBAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBAC/B,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC3D,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ;wBACjC,yDAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACvC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9D,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;gBACtE,GAAG,EAAE;oBACH,EAAE;oBACF,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC;iBACtE;aACF,CAAC;SACH,CAAC,CAAC;IArEG,CAAC;IAEP,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,uBAAuB;IACzB,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,GAAG;QACL,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC;IACD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,GAAG;QACL,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC;IAmDH,eAAe;IACf,mDAAmD;IAGnD,MAAM;IAEG,MAAM;QAEX,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAE/D,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE/C,IAAI,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAClC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,QAAa,EAAE,EAAE;gBACjE,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,QAAQ,CAAC,CAAC;gBAC9C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACvB,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;gBACxC,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;YAE7C,CAAC,CAAC;iBACC,KAAK,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAClB,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC;gBAC7C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACvB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;gBACjC,IAAI,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,CAAC;YACzD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAAA,CAAC;IAGF,aAAa;QACX,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACvC,+BAA+B;YAC/B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC;iBAC/B,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACjB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACxC,+BAA+B;gBAC/B,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC/C,wCAAwC;YAC1C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAClB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACtD,+BAA+B;YACjC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,EAAE;YACpB,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,gBAAgB;;YACpB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,QAAQ,EAAE,iBAAiB;gBAC3B,OAAO,EAAE,sBAAsB;aAChC,CAAC,CAAC;YACH,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC3B,CAAC;KAAA;IAAA,CAAC;IAEI,YAAY,CAAC,QAAQ;;YACzB,0BAA0B;YAC1B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,KAAK,EAAE,SAAS;gBAChB,OAAO,EAAE,GAAG,QAAQ,EAAE;gBACtB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAAA,CAAC;IAEI,mBAAmB,CAAC,QAAQ;;YAChC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,yBAAyB;gBACpC,OAAO,EAAE,GAAG,QAAQ,uCAAuC;gBAC3D,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;CAEF;;YAjKwB,0DAAW;YACZ,mFAAiB;YACV,gEAAiB;YACzB,8DAAe;YACf,8DAAe;YAClB,sDAAM;YACL,sDAAO;YACF,yEAAmB;;AAdhC,gBAAgB;IAL5B,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,4OAAwC;;KAEzC,CAAC;2EAQuB,0DAAW;QACZ,mFAAiB;QACV,gEAAiB;QACzB,8DAAe;QACf,8DAAe;QAClB,sDAAM;QACL,sDAAO;QACF,yEAAmB;GAdhC,gBAAgB,CAwK5B;AAxK4B","file":"pages-user-endereco-novo-endereco-novo-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"false\\\">\\n  <ion-toolbar color=\\\"base_header\\\">\\n     <!-- botao voltar -->\\n     <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Adicionar endereço\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <form [formGroup]=\\\"enderecoForm\\\" (ngSubmit)=\\\"submit()\\\">\\n\\n      <ion-list formGroupName=\\\"endereco\\\">\\n        \\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Cidade</ion-label>\\n          <ion-input formControlName=\\\"cidade\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.cidade\\\">\\n          <ng-container *ngIf=\\\"cidade.hasError(error.type) && (cidade.dirty || cidade.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Bairro</ion-label>\\n          <ion-input formControlName=\\\"bairro\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.bairro\\\">\\n          <ng-container *ngIf=\\\"bairro.hasError(error.type) && (bairro.dirty || bairro.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Rua</ion-label>\\n          <ion-input formControlName=\\\"rua\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.rua\\\">\\n          <ng-container *ngIf=\\\"rua.hasError(error.type) && (rua.dirty || rua.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n       \\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Numero</ion-label>\\n          <ion-input inputmode=\\\"tel\\\" formControlName=\\\"numero\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.numero\\\">\\n          <ng-container *ngIf=\\\"numero.hasError(error.type) && (numero.dirty || numero.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n        \\n\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">CEP</ion-label>\\n          <ion-input inputmode=\\\"tel\\\" formControlName=\\\"cep\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.cep\\\">\\n          <ng-container *ngIf=\\\"cep.hasError(error.type) && (cep.dirty || cep.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n      </ion-list>\\n      <ion-button [disabled]=\\\"!enderecoForm.valid\\\" type=\\\"submit\\\" expand=\\\"block\\\">Adicionar <ion-icon slot=\\\"end\\\"\\n          name=\\\"create\\\">\\n        </ion-icon>\\n      </ion-button>\\n    </form>\\n  </div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EnderecoNovoPage } from './endereco-novo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EnderecoNovoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EnderecoNovoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EnderecoNovoPageRoutingModule } from './endereco-novo-routing.module';\n\nimport { EnderecoNovoPage } from './endereco-novo.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    // FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    EnderecoNovoPageRoutingModule\n  ],\n  declarations: [EnderecoNovoPage]\n})\nexport class EnderecoNovoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXIvZW5kZXJlY28tbm92by9lbmRlcmVjby1ub3ZvLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Validators, FormBuilder } from '@angular/forms';\nimport { ApimercadoService } from 'src/app/shared/apimercado.service';\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { UservariableService } from '../uservariable.service';\n\n@Component({\n  selector: 'app-endereco-novo',\n  templateUrl: './endereco-novo.page.html',\n  styleUrls: ['./endereco-novo.page.scss'],\n})\nexport class EnderecoNovoPage implements OnInit {\n  result:any;\n  varsessao:any;\n\n  mySubscription: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private apimercado: ApimercadoService,\n    private loadingController: LoadingController,\n    private toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    private router: Router,\n    private storage: Storage,\n    private uservariable: UservariableService\n    ) { }\n\n  ngOnInit() {\n    this.sessaoCliente();\n    // this.lastUrlFalse();\n  }\n\n  get cidade() {\n    return this.enderecoForm.get('endereco.cidade');\n  }\n  get bairro() {\n    return this.enderecoForm.get('endereco.bairro');\n  }\n  get rua() {\n    return this.enderecoForm.get('endereco.rua');\n  }\n  get numero() {\n    return this.enderecoForm.get('endereco.numero');\n  }\n  get cep() {\n    return this.enderecoForm.get('endereco.cep');\n  }\n  public errorMessages = {\n    rua: [\n      { type: 'required', message: 'Rua não pode ser vazio' },\n      { type: 'maxlength', message: 'Rua não pode ter mais de 100 caracteres' }\n    ],\n    cidade: [\n      { type: 'required', message: 'Cidade não pode ser vazio' },\n      {\n        type: 'pattern',\n        message: 'Por favor insira uma cidade valida'\n      }\n    ],\n    bairro: [\n      { type: 'required', message: 'Bairro não pode ser vazio' },\n      {\n        type: 'pattern',\n        message: 'Por favor insira um bairro valido'\n      }\n    ],\n    numero: [\n      { type: 'required', message: 'Numero não pode ser vazio' },\n      {\n        type: 'pattern',\n        message: 'Por favor insira um numero valido'\n      }\n    ],\n    cep: [\n      { type: 'required', message: 'CEP não pode ser vazio' },\n      {\n        type: 'pattern',\n        message: 'Por favor coloque um CEP valido'\n      }\n    ]\n  };\n\n  enderecoForm = this.formBuilder.group({\n    endereco: this.formBuilder.group({\n      rua: ['', [Validators.required, Validators.maxLength(100)]],\n      cidade: ['', [Validators.required,\n      Validators.pattern('^[a-zA-Z]{2,20}')]],\n      bairro: ['', [Validators.required, Validators.maxLength(100)]],\n      numero: ['', [Validators.required, Validators.pattern('^[0-9]{1,6}')]],\n      cep: [\n        '',\n        [Validators.required, Validators.pattern('^[0-9]{5}(?:-[0-9]{3})?$')]\n      ]\n    })\n  });\n\n\n//   submit() {\n// this.varsessao.endereco.push(this.enderecoForm);\n\n\n//   }\n\n  public submit() {\n\n    this.varsessao.endereco.push(this.enderecoForm.value.endereco);\n\n    console.log(\"endereço novo: \", this.varsessao);\n\n    this.telaCarregamento().then(() => {\n    this.apimercado.postCliente(this.varsessao).then((response: any) => {\n      this.loadingController.dismiss();\n      console.log(\"funcionou Usuario = \", response);\n      this.result = response;\n      this.uservariable.sessaoCliente();\n      this.router.navigate([\"/endereco-edit\"])\n      this.mensagemErro(\"Endereço adicionado !\");\n\n    })\n      .catch((response) => {\n        console.log(\"deu erro usuario = \", response);\n        this.result = response;\n        this.loadingController.dismiss();\n        this.mensagemErroSistema(\"Erro ao adicionar endereço\");\n      });\n    });\n  };\n  \n\n  sessaoCliente() {\n    this.storage.get(\"login\").then((val) => {\n    // chama a tela de carregamento\n    this.apimercado.sessaoCliente(val)\n      .then((response) => {\n        this.varsessao = response;\n        console.log(\"Sessao: \", this.varsessao);\n        // fecha a tela de carregamento\n        console.log(\"nomeLoginSessao\", this.varsessao);\n        // this.nome = this.varSessao.nomeLogin;\n      })\n      .catch((response) => {\n        this.varsessao = response;\n        console.log(\"Deu errrado a sessao: \", this.varsessao);\n        // fecha a tela de carregamento\n      });\n    }).catch((response) => {\n      console.log(\"nao esta logado storage: \", response);\n    });\n  }\n\n  async telaCarregamento() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Por favor aguarde...'\n    });\n    return loading.present();\n  };\n\n  async mensagemErro(mensagem) {\n    // mensagem de add carinho\n    const toast = await this.toastCtrl.create({\n      color: \"primary\",\n      message: `${mensagem}`,\n      duration: 3000\n    });\n    toast.present();\n  };\n\n  async mensagemErroSistema(mensagem) {\n    const alert = await this.alertCtrl.create({\n      header: 'Alerta',\n      subHeader: 'Erro interno do sistema',\n      message: `${mensagem}, por favor contate um desenvolvedor!`,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}